<html>
<head>
	<meta charset = "utf-8"/>
	<title>ihainan's homepage</title>
	<meta name="description" content="我没有任何想法，也不抱任何希望，我只是……想让自己好受一些……">

	<style type="text/css">
		body {
			width: 100%;
			height: 100%;
		}

		#timeElapsed {
			text-align: center;
			margin-top: 100px;
			font-family: "Comic Sans MS";
		}
	</style>

	<script type="text/javascript">
		function getDaysInMonth(month, year) {     
			if(typeof year == "undefined") 
				year = 2015;
			var currmon = new Date(year, month);
			var nextmon = new Date(year, month + 1);
			return Math.floor((nextmon.getTime() - currmon.getTime()) / (24 * 3600 * 1000));
		} 

		function getDateTimeSince() {
			var dtMetU = new Date(2012, 3, 14, 19, 10);
			var now = new Date;

			// Year(s)
			var years = now.getFullYear() - dtMetU.getFullYear()

			// Month(s)
			var months = now.getMonth()  + 1 - dtMetU.getMonth()
			if(months < 0){
				years - 1;
				months + 12;
			}


			// Day(s)
			var days = now.getDate() - dtMetU.getDate();
			if(days < 0){
				months --;
				days += getDaysInMonth(now.getMonth() - 1, now.getFullYear());
			}


			// Hour(s)
			var hours = now.getHours() - dtMetU.getHours();
			if(hours < 0){
				days --;
				hours += 24;
			}

			// Minute(s)
			var minutes = now.getMinutes() - dtMetU.getMinutes();
			if(minutes < 0){
				hours --;	
				minutes += 60;
			}

			// Second(s)
			var seconds = now.getSeconds() - dtMetU.getSeconds();
			if(seconds < 0){
				minutes --;
				seconds += 60;
			}

			// End
			var isBirthday = (now.getDate() == 28 && now.getMonth() + 1 == 5);
			if(isBirthday){
				var endStr = "<br/> + <img src = 'images/cake.png'/>"
			}
			else{
				var endStr = "<br/>Sorry...";
			}

			// Combine
			var out = [];
			if(years > 0) out.push(years + " Year" + (years == 1 ? "" : "s"));
			if(months > 0) out.push(months + " Month" + (months == 1 ? "" : "s"));
			if(days > 0) out.push(days + " Day" + (days == 1 ? "" : "s"));
			if(hours > 0) out.push(hours + " Hour" + (hours == 1 ? "" : "s"));
			if(minutes > 0) out.push(minutes + " Minute" + (minutes == 1 ? "" : "s"));
			if(seconds > 0) out.push(seconds + " Second" + (seconds == 1 ? "" : "s"));
			return out.join(" ") + endStr;
		}

		window.onload = function(){
			window.setInterval(function(){
				document.getElementById("timeElapsed").innerHTML = getDateTimeSince();
			}, 1000);
		}
	</script>
</head>
<body>
<div id = "timeElapsed"></div>
</body>
</html>